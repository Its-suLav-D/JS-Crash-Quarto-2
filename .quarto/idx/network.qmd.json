{"title":"HTTP Requests","markdown":{"headingText":"HTTP Requests","containsRefs":false,"markdown":"\nHTTP (Hypertext Transfer Protocol) is a protocol used to send and receive data over the internet. It is the foundation of the World Wide Web, and is used by web browsers and servers to communicate with each other.\n\nIn JavaScript, you can use the XMLHttpRequest object or the fetch() function to make HTTP requests to a server. These requests can be used to retrieve data from a server, or to send data to a server for processing.\n\nTo make an HTTP request in JavaScript, you first create an instance of XMLHttpRequest or call fetch(), and then specify the type of request you want to make (e.g. GET, POST, PUT, DELETE) and the URL of the server you want to send the request to. You can also specify additional options, such as the data you want to send with the request or the headers you want to include.\n\nOnce the request has been sent, the server will process it and send back a response. In JavaScript, you can use event listeners or Promises to handle the response and take appropriate action based on the data received.\n\nFor example, you might use an HTTP request to retrieve a list of products from an e-commerce API, or to send a form submission to a server for processing. HTTP requests are a key part of modern web development, and are used in many different types of applications.\n\n\n--- --------------------------------\n\n## Fetch() Method - Preferred \n\nThe fetch() function in JavaScript is a modern, Promise-based API for making HTTP requests. It provides a simple and flexible way to retrieve data from a server, and is supported in all modern browsers.\n\nWhen you call fetch(), you can pass a number of options to customize the request. These options are specified as an object in the second argument to fetch(). Some of the options you can specify include:\n\n    - method: The HTTP method to use for the request (e.g. GET, POST, PUT, DELETE).\n    - headers: An object containing headers to send with the request.\n    - body: The body of the request. This can be a string, a Blob, a FormData object, or any other object that can be used as the body of an HTTP request.\n    - mode: The mode to use for the request (e.g. \"cors\", \"no-cors\", \"same-origin\").\n    - cache: The cache mode to use for the request (e.g. \"default\", \"no-cache\", \"reload\", \"force-cache\", \"only-if-cached\").\n    - credentials: The credentials mode to use for the request (e.g. \"omit\", \"same-origin\", \"include\").\n    - redirect: The redirect mode to use for the request (e.g. \"follow\", \"error\", \"manual\").\n\nHere's an example of how to use the fetch() function with some of these options:\n\n```{.js}\n\nfetch('http://example.com/api/data', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  body: JSON.stringify({\n    name: 'John',\n    age: 30\n  }),\n  mode: 'cors',\n  cache: 'no-cache',\n  credentials: 'include',\n  redirect: 'follow'\n})\n  .then(response => response.json())\n  .then(data => console.log(data))\n  .catch(error => console.error(error));\n```\nThis example makes a POST request to the /api/data endpoint, with a JSON-formatted body and the specified headers and options. The response is then parsed as JSON and logged to the console.\n\n--- \n\n## XMLHttpRequest \n\nXMLHttpRequest is a built-in object in JavaScript that allows you to send HTTP requests to a server and receive responses. It is a fundamental part of the web, and is used by web browsers and servers to communicate with each other.\n\nTo use XMLHttpRequest, you first create an instance of the object, and then call its open() method to specify the type of request you want to make (e.g. GET, POST, PUT, DELETE) and the URL of the server you want to send the request to. You can also specify additional options, such as the data you want to send with the request or the headers you want to include.\n\nOnce the request has been opened, you can call the send() method to actually send the request to the server. The server will then process the request and send back a response, which you can handle using event listeners or callback functions.\n\nHere's an example of how to use XMLHttpRequest to send a GET request and log the response:\n```{.js}\nconst request = new XMLHttpRequest();\nrequest.open('GET', 'http://example.com/api/data');\nrequest.onload = () => {\n  console.log(request.response);\n};\nrequest.send();\n\n```\n\nThis example creates a new XMLHttpRequest object, opens a GET request to the /api/data endpoint, and sets an onload event listener to log the response to the console. When the send() method is called, the request is sent to the server, and the response is logged when it is received.\n\nXMLHttpRequest is a powerful and flexible API, and is widely used in modern web development. It is supported in all modern browsers.\n\n--- \n\n## Fetch with Async / Await \n\n```{.js}\nasync function getData() {\n  try {\n    const response = await fetch('http://example.com/api/data');\n    const data = await response.json();\n    console.log(data);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\ngetData();\n\n```\n\nIn this example, the getData() function is defined as async, which means it returns a Promise that is resolved when the function is complete. The await keyword is used to wait for the Promise returned by fetch() to resolve, and the try and catch blocks are used to handle any errors that may occur.\n\nThe fetch() function is called with the URL of the server to send the request to, and the response is passed to the response.json() function to parse the response as JSON. The resulting data is then logged to the console.\n\nIf an error occurs at any point (e.g. if the server returns a 404 error or the response cannot be parsed as JSON), it will be caught in the catch block and logged to the console.\n\nUsing async and await can make it easier to write asynchronous code that is easier to read and understand, as it allows you to write code that looks and behaves more like synchronous code."},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"wrap","code-link":false,"code-line-numbers":false,"code-tools":{"source":false,"toggle":true,"caption":"See code"},"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"toc-depth":3,"number-sections":false,"html-math-method":"katex","reference-location":"margin","output-file":"network.html"},"language":{"code-summary":"Show the code"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.2.313","theme":{"light":"cosmo","dark":"darkly"},"toc-location":"right","code-copy":"hover","smooth-scroll":true,"anchor-sections":true,"fig-cap-location":"margin","footnotes-hover":true,"citations-hover":true},"extensions":{"book":{"multiFile":true}}}}}